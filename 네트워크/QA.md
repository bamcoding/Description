QA.md

## 라우트 53

## 어플리케이션 로드 밸런서
1초에 백만개의 요청을 처리할수 있는 서버가 있다.
어느날 서비스가 성장해 1초에 2백만 개의 요청을 받기 시작했다.
서버를 증설해야 한다는 뜻이다.

서버를 증설하려고 EC2 인스턴스를 하나 더 실행시킨다.
기존의 인스턴스를 A, 새 인스턴스를 B라고 부르자. 이제 우리는 2개의 EC2 인스턴스가 있고 각 인스턴스는
서비스 애플리케이션을 실행 중이다. 

이제 사용자가 서비스에 접근한다고 해보자. 사용자는 app.bamcoding.com으로 접근한다.
DNS서버 IP에 app.bamcoding.com은 어디에 연결되어 있는가?
기존 인스턴스에 연결돼 있다.

그러면 인스턴스 B에는 누가 접근하는가? 아무도 접근하지 못한다...
우리가 원하는 시나리오는 인스턴스 A,B에 적절히 분배되는 상황이었을 것이다.
그러려면 두 인스턴스가 공유하는 IP


## 오토 스케일링 그룹(ASG)
로드 밸런서에 2개의 인스턴스가 연결돼 있다고 가정하자.
이렇게 연결된 인스턴스들을 AWS에서는 타깃 그룹이라고 한다.
이제 서버도 증성했으니 우리는 기쁜 마음으로 잠자리에 들었다.
그런데 새벽 2시, 두 인스턴스 중 하나가 이유 없이 다운됐다.
로드 밸런서가 이를 알고 다운된 인스턴스로 트래픽을 중단했다. 서비스는 스케일 다운된 상태로 운영 중이다.
새벽 3시에 서비스를 복구하려고 일어나 EC2를 실행하고 타깃 그룹에 올리고 서비스 상태를 확인한 후 다시 잠자리에 든다...

로드밸런서가 ASG에게 인스턴스가 다운됐다고 알려줄 수 있다.
ASG는 그 인스턴스를 제거하고 새 인스턴스를 실행시킨다.
스케일인 스케일아웃...



사용자는 우리 프론트엔드 웹의 메인 화면을 보고 있다
사용자는 아이디와 비밀번호르 입력하고 로그인을 클릭한다.
고러면 이번엔 백엔드 서버의 애플리케이션 로드 밸런서를 통해 백엔드 애플리케이션에 전달된다.
애플리케이션은 sql 서버와 통신해 적절한 데이터를 주고받는다.


주민번호도 못 외우는데 아이피 주소를 외울 수 있단 말인가 => DNS

